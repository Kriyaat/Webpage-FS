<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Crop Temperature Checker</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9aa6b2;
      --good:#16a34a; --warn:#f59e0b; --bad:#ef4444;
      --glass: rgba(255,255,255,0.03);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(20,60,120,0.12), transparent 10%),
        linear-gradient(180deg,#071022 0%, #07131a 50%, #08111b 100%);
      color:#e6eef6;
      padding:28px;
    }

    .container{
      width:100%;
      max-width:920px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:22px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      border: 1px solid rgba(255,255,255,0.03);
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:18px;
    }

    header{
      grid-column: 1 / -1;
      display:flex;
      align-items:center;
      gap:12px;
      margin-bottom:4px;
    }
    header h1{margin:0;font-size:20px;letter-spacing:-0.2px}
    header p{margin:0;color:var(--muted);font-size:13px}

    .left{
      padding:12px;
    }
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    select, input[type="number"]{
      width:100%;
      padding:10px 12px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.04);
      background:var(--glass);
      color:inherit;
      font-size:15px;
      outline:none;
    }
    .row{display:flex;gap:12px}
    .row .col{flex:1}

    .controls{margin-top:12px;display:flex;gap:10px;align-items:center}
    button{
      padding:10px 14px;border-radius:10px;border:0;font-weight:600;
      background:linear-gradient(180deg,#0ea5a3,#04808a);
      color:white;cursor:pointer;
      box-shadow:0 6px 18px rgba(3,10,14,0.6);
    }
    button:active{transform:translateY(1px)}

    .note{font-size:13px;color:var(--muted);margin-top:12px;line-height:1.35}

    /* right panel - results */
    .right{
      padding:18px;
      border-left:1px dashed rgba(255,255,255,0.03);
      display:flex;
      flex-direction:column;
      gap:12px;
      justify-content:center;
    }
    .status{
      padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
      display:flex;align-items:center;gap:12px;
      min-height:92px;
      transition: transform 180ms ease, box-shadow 180ms ease;
    }
    .status .dot{
      width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;
      font-weight:700;font-size:18px;color:#072023;
    }
    .status h2{margin:0;font-size:18px}
    .status p{margin:4px 0 0;color:var(--muted);font-size:13px}

    .good{background:linear-gradient(180deg, rgba(22,163,74,0.16), rgba(22,163,74,0.06)); box-shadow: 0 8px 30px rgba(22,163,74,0.08)}
    .good .dot{background:var(--good); color:white}
    .warn{background:linear-gradient(180deg, rgba(245,158,11,0.10), rgba(245,158,11,0.04)); box-shadow:0 8px 30px rgba(245,158,11,0.07)}
    .warn .dot{background:var(--warn); color:#2b1500}
    .bad{background:linear-gradient(180deg, rgba(239,68,68,0.10), rgba(239,68,68,0.04)); box-shadow:0 8px 30px rgba(239,68,68,0.08)}
    .bad .dot{background:var(--bad); color:white}

    .meta{font-size:13px;color:var(--muted);padding-top:6px}
    .thresholds{font-size:13px;color:var(--muted); background:rgba(255,255,255,0.01); padding:10px;border-radius:8px}
    pre{margin:0;font-size:13px;color:var(--muted);white-space:pre-wrap}
    footer{grid-column:1/-1;text-align:right;color:var(--muted);font-size:12px;margin-top:6px}

    @media (max-width:880px){
      .container{grid-template-columns:1fr; padding:18px}
      .right{border-left:0;border-top:1px dashed rgba(255,255,255,0.03)}
      header{flex-direction:column;align-items:flex-start;gap:4px}
    }
  </style>
</head>
<body>
  <div class="container" role="application" aria-label="Crop temperature checker">
    <header>
      <div>
        <h1>Crop Temperature Checker</h1>
        <p>Choose a crop, enter temperature (°C) and see if it's Good / Warning / Danger.</p>
      </div>
    </header>

    <section class="left" aria-label="controls">
      <label for="cropSelect">Select crop</label>
      <select id="cropSelect" aria-describedby="cropHelp">
        <option value="Rice">Rice</option>
        <option value="Wheat">Wheat</option>
        <option value="Corn">Corn</option>
        <option value="Tomato">Tomato</option>
        <option value="Potato">Potato</option>
      </select>

      <div style="height:12px"></div>

      <label for="tempInput">Temperature (°C)</label>
      <input id="tempInput" type="number" step="0.1" placeholder="e.g. 28" aria-label="Temperature in Celsius">

      <div class="controls">
        <button id="checkBtn">Check</button>
        <button id="clearBtn" style="background:transparent;border:1px solid rgba(255,255,255,0.05);color:var(--muted)">Clear</button>
      </div>

      <div class="note" id="cropHelp">
        Tip: For Tomato you can check day/night differences — this simple tool uses temperature only. If you'd like, I can add humidity next.
      </div>

      <div style="height:12px"></div>
      <div class="thresholds" aria-hidden="true">
        <strong>Crop temperature thresholds (°C)</strong>
        <pre id="thresholdText">
Rice:   Optimal 25–35, Min 20, Max 38
Wheat:  Optimal 16–24, Min 8,  Max 32
Corn:   Optimal 25–33, Min 10, Max 35
Tomato: Optimal 21–27, Min 13, Max 32
Potato: Optimal 15–21, Min 7,  Max 30
        </pre>
      </div>
    </section>

    <aside class="right" aria-live="polite" aria-atomic="true">
      <div id="result" class="status good" role="status">
        <div style="display:flex;flex-direction:column;gap:6px;">
          <div style="display:flex;align-items:center;gap:12px">
            <div class="dot" aria-hidden="true">✓</div>
            <div>
              <h2 id="statusTitle">Waiting for input</h2>
              <p id="statusMsg">Choose a crop and enter temperature to check status.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="meta" id="metaInfo">
        <div><strong>Checked value:</strong> <span id="checkedValue">—</span></div>
        <div style="height:6px"></div>
        <div><strong>Crop range:</strong> <span id="cropRange">—</span></div>
      </div>

      <div style="height:6px"></div>
      <div class="note">
        Quick logic:
        <ul style="margin:6px 0 0 18px;color:var(--muted)">
          <li><strong>Green:</strong> inside optimal range</li>
          <li><strong>Yellow:</strong> between min and optimal-min or between optimal-max and max</li>
          <li><strong>Red:</strong> below min or above max</li>
        </ul>
      </div>

    </aside>

    <footer>Made for your alert system · Temperature-only check</footer>
  </div>

  <script>
    // Crop thresholds from your table
    const crops = {
      "Rice":   {opt:[25,35], min:20, max:38},
      "Wheat":  {opt:[16,24], min:8,  max:32},
      "Corn":   {opt:[25,33], min:10, max:35},
      "Tomato": {opt:[21,27], min:13, max:32},
      "Potato": {opt:[15,21], min:7,  max:30}
    };

    // DOM refs
    const cropSelect = document.getElementById('cropSelect');
    const tempInput = document.getElementById('tempInput');
    const checkBtn = document.getElementById('checkBtn');
    const clearBtn = document.getElementById('clearBtn');
    const resultEl = document.getElementById('result');
    const statusTitle = document.getElementById('statusTitle');
    const statusMsg = document.getElementById('statusMsg');
    const checkedValue = document.getElementById('checkedValue');
    const cropRange = document.getElementById('cropRange');
    const thresholdText = document.getElementById('thresholdText');

    function updateCropRange(crop){
      const c = crops[crop];
      cropRange.textContent = `${c.opt[0]}–${c.opt[1]} (optimal), min ${c.min}, max ${c.max} °C`;
    }
    // initial
    updateCropRange(cropSelect.value);

    function evaluateTemperature(cropName, temp){
      const c = crops[cropName];
      if (temp < c.min) return {level:'red', title:'Danger — Too Cold', msg:`${temp}°C is below the minimum ${c.min}°C.`};
      if (temp > c.max) return {level:'red', title:'Danger — Too Hot', msg:`${temp}°C is above the maximum ${c.max}°C.`};

      // inside min..max
      if (temp >= c.opt[0] && temp <= c.opt[1]) {
        return {level:'good', title:'Good — Optimal', msg:`${temp}°C is within the optimal range (${c.opt[0]}–${c.opt[1]}°C).`};
      }

      // between min and opt.min OR between opt.max and max -> warning
      if ((temp >= c.min && temp < c.opt[0]) || (temp > c.opt[1] && temp <= c.max)) {
        // compute closeness percentage (optional extra detail)
        let distance;
        if (temp < c.opt[0]) distance = (c.opt[0] - temp) / (c.opt[0] - c.min);
        else distance = (temp - c.opt[1]) / (c.max - c.opt[1]);
        distance = Math.min(Math.max(distance, 0), 1);
        const severity = distance < 0.33 ? 'low' : (distance < 0.66 ? 'medium' : 'high');
        return {level:'warn', title:'Warning — Near limits', msg:`${temp}°C is outside optimal but inside allowable bounds. Risk: ${severity}.`};
      }

      // fallback
      return {level:'warn', title:'Warning', msg:'Temperature is near a threshold.'};
    }

    function renderResult(ev){
      const crop = cropSelect.value;
      const tempRaw = tempInput.value;
      const temp = Number(tempRaw);
      if (!tempRaw || Number.isNaN(temp)) {
        statusTitle.textContent = 'Please enter a valid temperature';
        statusMsg.textContent = 'Temperature must be a number (e.g. 28).';
        checkedValue.textContent = '—';
        resultEl.className = 'status';
        return;
      }

      const evalRes = evaluateTemperature(crop, temp);
      // update UI classes
      resultEl.classList.remove('good','warn','bad');
      if (evalRes.level === 'good') resultEl.classList.add('good');
      if (evalRes.level === 'warn') resultEl.classList.add('warn');
      if (evalRes.level === 'red') resultEl.classList.add('bad');

      // set title and message
      statusTitle.textContent = evalRes.title;
      statusMsg.textContent = evalRes.msg;

      // set checked meta
      checkedValue.textContent = `${temp} °C for ${crop}`;
      updateCropRange(crop);
    }

    // Event bindings
    checkBtn.addEventListener('click', renderResult);
    tempInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') renderResult();
    });

    cropSelect.addEventListener('change', () => {
      updateCropRange(cropSelect.value);
      // if there's a temperature entered, auto-evaluate
      if (tempInput.value) renderResult();
    });

    clearBtn.addEventListener('click', () => {
      tempInput.value = '';
      statusTitle.textContent = 'Waiting for input';
      statusMsg.textContent = 'Choose a crop and enter temperature to check status.';
      checkedValue.textContent = '—';
      resultEl.className = 'status good';
    });

    // Accessibility: focus styles for keyboard users
    document.addEventListener('keyup', (e) => {
      if (e.key === 'Tab') document.body.style.outline = 'none';
    });
  </script>
</body>
</html>
